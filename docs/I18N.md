# Internationalization (i18n)

This project uses `i18next` and `react-i18next` for internationalization support.

## Supported Languages

- **English** (en) - Default
- **Nederlands** (nl) - Dutch

## Structure

### Translation Files

Translation files are located in `src/locales/`:

- `en.json` - English translations
- `nl.json` - Dutch (Nederlands) translations

### Configuration

- **i18n setup**: `src/i18n.ts` - Initializes i18next with language detection
- **Language store**: `src/stores/languageStore.ts` - Zustand store for language state management

## Usage

### In Components

```tsx
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();

  return <h1>{t('app.title')}</h1>;
}
```

### With Interpolation

```tsx
// Translation file: "welcome": "Welcome, {{name}}!"
const message = t('welcome', { name: 'John' });
```

### Changing Language

```tsx
import { useLanguageStore } from './stores/languageStore';

function LanguageSelector() {
  const { language, setLanguage } = useLanguageStore();

  return <button onClick={() => setLanguage('nl')}>Nederlands</button>;
}
```

## Language Selection

The language can be changed via:

1. **More Menu** (mobile) - "..." button in bottom navigation
2. **Sidebar** (desktop) - Language selector in settings

The selected language is persisted in localStorage and automatically restored on app reload.

## Adding a New Language

1. Create a new JSON file in `src/locales/` (e.g., `fr.json`)
2. Copy the structure from `en.json`
3. Translate all strings
4. Import and add to `src/i18n.ts`:

   ```tsx
   import fr from './locales/fr.json';

   resources: {
     en: { translation: en },
     nl: { translation: nl },
     fr: { translation: fr }, // Add new language
   }
   ```

5. Add language option to the language selector in Dashboard

## Translation Keys Structure

```
app                  - Application-wide text
navigation           - Navigation labels
moreMenu            - More menu options
yearSelector        - Year/period selector
yearInReview        - Year review page content
stats               - Statistics labels
activities          - Activity types and labels
socialCard          - Social media card text
settings            - Settings page labels
loading             - Loading messages
login               - Login page text
errors              - Error messages
onboarding          - Onboarding content
units               - Measurement units
months              - Month names (short)
days                - Day names (abbreviated)
```

## Best Practices

1. **Always use translation keys** - Never hardcode user-facing text
2. **Keep keys organized** - Use dot notation for nested structure
3. **Be consistent** - Use similar patterns across translations
4. **Test both languages** - Verify translations work in all supported languages
5. **Handle plurals** - Use i18next pluralization when needed
6. **Watch string length** - Some languages (like Dutch/German) can be longer than English

## Browser Language Detection

The app automatically detects the user's browser language on first visit:

- If browser language is supported → Use that language
- If not supported → Default to English

User's language preference is saved and persists across sessions.
